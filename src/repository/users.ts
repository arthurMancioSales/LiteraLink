import { IBook, INewUser } from "../interfaces/interface";

export const users = [
    {
        _id: "614c55a72a0a16a3b1e3d0e5",
        name: "edu",
        email: "edu@gmail.com",
        password: "senha123",
        image:
            "https://img.freepik.com/free-photo/confident-attractive-young-outgoing-asian-woman-yellow-top-smiling-friendly-happy-as-cross-hands-chest-posing-white-background-self-assured-sassy-pose-look-determined_176420-36757.jpg?w=740&t=st=1690508577~exp=1690509177~hmac=236a1f520d060dbff430366b4adfeda5fbda663bf017850f98291ecc2448c14f",
        communities: [
            {
                id: 1,
                name: "Comunidade 1",
            },
            {
                id: 3,
                name: "edu world",
            }
        ],
        books: [
            {
                id: 1,
                title: "As Tranças do Rei careca",
                image:
                    "https://img.freepik.com/free-photo/middle-aged-cheerful-dark-skinned-male-with-shining-smile_273609-28538.jpg?w=740&t=st=1690552937~exp=1690553537~hmac=c93caaf252de3841fe45ee8553bbf9965b1684c9abccecd50019216e5583e856",
                status: "lido",
                totalChapter: 15,
                chaptersRead: 15,
                favorite: true,
                lastSequence: "12/12/2012",
                goalExpire: "01/01/2021",
                goalsAchieved: 5,
                goals: [
                    {
                        type: "days",
                        partial: 15,
                        total: 15,
                    },
                    {
                        type: "pages",
                        partial: 395,
                        total: 445,
                    },
                    {
                        type: "time",
                        partial: 15,
                        total: 60,
                    },
                ],
            },
            {
                id: 2,
                title: "Poeira em Baixo Mar",
                image:
                    "https://img.freepik.com/free-photo/middle-aged-cheerful-dark-skinned-male-with-shining-smile_273609-28538.jpg?w=740&t=st=1690552937~exp=1690553537~hmac=c93caaf252de3841fe45ee8553bbf9965b1684c9abccecd50019216e5583e856",
                status: "lido",
                totalChapter: 12,
                chaptersRead: 9,
                favorite: false,
                lastSequence: "12/12/2022",
                goalExpire: "12/12/2023",
                goals: [
                    {
                        type: "pages",
                        partial: 395,
                        total: 445,
                    },
                ],
            },
            {
                id: 4,
                title: "Poeira no Mar",
                image:
                    "https://img.freepik.com/free-photo/middle-aged-cheerful-dark-skinned-male-with-shining-smile_273609-28538.jpg?w=740&t=st=1690552937~exp=1690553537~hmac=c93caaf252de3841fe45ee8553bbf9965b1684c9abccecd50019216e5583e856",
                status: "lido",
                totalChapter: 12,
                chaptersRead: 9,
                favorite: false,
                lastSequence: "12/12/2022",
                goalExpire: "12/12/2023",
                goals: [
                    {
                        type: "pages",
                        partial: 395,
                        total: 445,
                    },
                ],
            },
            {
                id: 3,
                title: "Poeiras Cósmicas",
                image:
                    "https://img.freepik.com/free-photo/middle-aged-cheerful-dark-skinned-male-with-shining-smile_273609-28538.jpg?w=740&t=st=1690552937~exp=1690553537~hmac=c93caaf252de3841fe45ee8553bbf9965b1684c9abccecd50019216e5583e856",
                status: "lido",
                totalChapter: 12,
                chaptersRead: 9,
                favorite: false,
                lastSequence: "12/12/2022",
                goalExpire: "12/12/2023",
                goals: [
                    {
                        type: "pages",
                        partial: 395,
                        total: 445,
                    },
                ],
            },
        ],
        statistics: {
            lastSequence: "09/07/2023",
            booksRead: 15,
            readingTime: 241,
            maxSequence: 3,
            actualSequence: 1,
            goalsAchieved: 5,
        },
    },
    {
        _id: "614c55a72a0a16a3b1e3d0e6",
        name: "Henrique",
        email: "henrique@gmail.com",
        password: "senha123",
        image:
            "https://img.freepik.com/free-photo/middle-aged-cheerful-dark-skinned-male-with-shining-smile_273609-28538.jpg?w=740&t=st=1690552937~exp=1690553537~hmac=c93caaf252de3841fe45ee8553bbf9965b1684c9abccecd50019216e5583e856",
        communities: [
            {
                id: 4,
                name: "Leia ou morra tentando",
            },
            {
                id: 6,
                name: "Os filhos do Paulo Coelho",
            },
        ],
        books: [
            {
                id: 1,
                title: "As Tranças do Rei careca",
                image:
                    "https://img.freepik.com/free-photo/middle-aged-cheerful-dark-skinned-male-with-shining-smile_273609-28538.jpg?w=740&t=st=1690552937~exp=1690553537~hmac=c93caaf252de3841fe45ee8553bbf9965b1684c9abccecd50019216e5583e856",
                status: "lido",
                totalChapter: 15,
                chaptersRead: 15,
                favorite: true,
                lastSequence: "12/12/2012",
                goalExpire: "01/01/2021",
                goals: [
                    {
                        type: "days",
                        partial: 15,
                        total: 15,
                    },
                ],
            },
            {
                id: 2,
                title: "Poeira em Alto Mar",
                image:
                    "https://img.freepik.com/free-photo/middle-aged-cheerful-dark-skinned-male-with-shining-smile_273609-28538.jpg?w=740&t=st=1690552937~exp=1690553537~hmac=c93caaf252de3841fe45ee8553bbf9965b1684c9abccecd50019216e5583e856",
                status: "lendo",
                totalChapter: 12,
                chaptersRead: 9,
                favorite: false,
                lastSequence: "12/12/2022",
                goalExpire: "12/12/2023",
                goals: [
                    {
                        type: "pages",
                        partial: 395,
                        total: 445,
                    },
                ],
            },
        ],
        statistics: {
            lastSequence: "12/06/2022",
            readingTime: 1021,
            maxSequence: 22,
            actualSequence: 7,
            goalsAchieved: 25,
        },
    },
    {
        _id: "614c55a72a0a16a3b1e3d0e7",
        name: "Anderson",
        email: "Anderson@gmail.com",
        password: "senha123",
        image:
            "https://img.freepik.com/free-photo/handsome-confident-smiling-man-with-hands-crossed-chest_176420-18743.jpg?w=740&t=st=1690508543~exp=1690509143~hmac=0b9fa72ca494a1c5ff2e69438bbd1ba58f060748c8e6c583409a1b2c0c87a2a6",
        communities: [
            {
                id: 2,
                name: "História é viver",
            },
            {
                id: 3,
                name: "Cegos Leitores",
            },
        ],
        books: [
            {
                id: 1,
                title: "As Tranças do Rei careca",
                image:
                    "https://img.freepik.com/free-photo/middle-aged-cheerful-dark-skinned-male-with-shining-smile_273609-28538.jpg?w=740&t=st=1690552937~exp=1690553537~hmac=c93caaf252de3841fe45ee8553bbf9965b1684c9abccecd50019216e5583e856",
                status: "lido",
                totalChapter: 15,
                chaptersRead: 15,
                favorite: true,
                lastSequence: "12/12/2012",
                goalExpire: "01/01/2021",
                goals: [
                    {
                        type: "days",
                        partial: 15,
                        total: 15,
                    },
                ],
            },
            {
                id: 2,
                title: "Poeira em Alto Mar",
                image:
                    "https://img.freepik.com/free-photo/middle-aged-cheerful-dark-skinned-male-with-shining-smile_273609-28538.jpg?w=740&t=st=1690552937~exp=1690553537~hmac=c93caaf252de3841fe45ee8553bbf9965b1684c9abccecd50019216e5583e856",
                status: "lendo",
                totalChapter: 12,
                chaptersRead: 9,
                favorite: false,
                lastSequence: "12/12/2022",
                goalExpire: "12/12/2023",
                goals: [
                    {
                        type: "pages",
                        partial: 395,
                        total: 445,
                    },
                ],
            },
        ],
        statistics: {
            lastSequence: "13/06/2023",
            readingTime: 563,
            maxSequence: 31,
            actualSequence: 21,
            goalsAchieved: 31,
        },
    },
];

export function insertUser(user: INewUser) {
    const index = users.length + 1;
    const newUser = {
        _id: index,
        name: user.name,
        email: user.email,
        password: user.password,
        image: "",
        communities: [],
        books: [],
        statistics: {
            lastSequence: new Date().toISOString(),
            readingTime: 0,
            maxSequence: 0,
            actualSequence: 0,
            goalsAchieved: 0,
        },
    };
    // users.push(newUser);
    return newUser;
}

// export function insertBook(userId: number, book: IBook) {
//     const bookIndex = users[userId].books.length + 1;
//     const newBook = {
//         id: bookIndex,
//         title: book.title,
//         image: "",
//         status: "ler",
//         totalPages: book.totalPages,
//         pagesRead: 0,
//         favorite: false,
//         lastSequence: new Date().toISOString(),
//         goalExpire: new Date().toISOString(),
//         goals: [
//             {
//                 type: "pages",
//                 partial: 0,
//                 total: 0,
//             },
//         ],
//     };
//     const insertedBook = users[userId].books.push(newBook);
//     console.log(users[userId]);
//     return insertedBook;
// }

export function deleteBookById(userId: number, bookId: number) {
    const newBookList = users[userId].books.filter((book) => book.id !== bookId);
    return newBookList;
}
